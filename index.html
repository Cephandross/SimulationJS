<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Simulation Dev</title>
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">

  <!-- 1) Phaser engine -->
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.js"></script>
  
  <!-- 2) External libraries -->
  <script src="https://cdn.jsdelivr.net/npm/simplex-noise@2.4.0/simplex-noise.min.js"></script>
  
  <!-- 3) Core config & utilities -->
  <script src="src/config.js"></script>
  <script src="src/utils.js"></script>

  <!-- 4) Base classes FIRST -->
  <script src="src/buildings/Building.js"></script>
  <script src="src/units/Unit.js"></script>

  <!-- 5) Hex map system (needs Building class) -->
  <script src="src/HexMap.js"></script>

  <script src="src/GameWorld.js"></script>

  <!-- 6) Player logic -->
  <script src="src/player.js"></script>

  <!-- 7) Building subclasses -->
  <script src="src/buildings/Founding.js"></script>
  <script src="src/buildings/Population.js"></script>
  <script src="src/buildings/Training.js"></script>
  <script src="src/buildings/Gathering.js"></script>
  <script src="src/buildings/Crafting.js"></script>

  <!-- 8) Unit subclasses -->
  <script src="src/units/Infantry.js"></script>
  <script src="src/units/Cavalry.js"></script>
  <script src="src/units/Support.js"></script>
  <script src="src/units/Utility.js"></script>

  <!-- 9) Battle System (optional - loads gracefully) -->
  <script src="src/battle/BattleData.js" onerror="console.warn('Battle system not available')"></script>
  <script src="src/battle/BattleResolver.js" onerror="console.warn('Battle resolver not available')"></script>
  <script src="src/battle/BattleManager.js" onerror="console.warn('Battle manager not available')"></script>
  <script src="src/ui/BattleInterface.js" onerror="console.warn('Battle interface not available')"></script>

  <!-- 10) UI Components - ORDER MATTERS -->
  <script src="src/ui/BaseModal.js"></script>
  <script src="src/ui/components/ResourceCost.js"></script>
  <script src="src/ui/modals/BuildingPlacementUI.js"></script>
  <script src="src/ui/SelectionUI.js"></script>
  <script src="src/ui/PlayerOverviewUI.js"></script>
  <script src="src/ui/AdminPanel.js"></script>
  <script src="src/ui/UIManager.js"></script>
  <script src="src/persistence/GamePersistence.js"></script>
  <script src="src/persistence/FullWorldPersistence.js"></script>

  <!-- 11) Scenes -->
  <script src="src/UIScene.js"></script>
  <script src="src/main.js"></script>
 
  <style>
    body { margin: 0; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
  <!-- 12) Bootstrap the game -->
  <script>
    window.onload = () => {
      new Phaser.Game({
        type: Phaser.AUTO,
        backgroundColor: '#000000',
        scale: {
          mode: Phaser.Scale.FIT,
          autoCenter: Phaser.Scale.CENTER_BOTH,
          width: 1600,
          height: 1000
        },
        scene: [ window.MainScene, window.UIScene ]
      });
    };
  </script>
</body>
</html>